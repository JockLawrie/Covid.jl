demographics:
    input_datadir:  "../Demographics.jl/test/data/input"   # When testing this dir is Demographics.jl/test/data/input
    output_datadir: "../Demographics.jl/test/data/output"  # When testing this dir is Demographics.jl/test/data/output
    input_datafiles:
        age_distribution:             "population_by_age.tsv"
        workplace_distribution:       "workplace_by_size.tsv"
        primaryschool_distribution:   "avg_yearlevel_size_distribution_primary.tsv"
        secondaryschool_distribution: "avg_yearlevel_size_distribution_secondary.tsv"
        household_distribution:       "households.tsv"
    params: [
        {name: n_social_contacts,    value: 35, description: Number of social contacts per person},
        {name: n_community_contacts, value: 20, description: Number of community contacts per person},
        {name: n_workplace_contacts, value: 20, description: Number of non-school workplace contacts per person},
        {name: ncontacts_s2s,        value: 15, description: Student-to-student contacts per student},
        {name: ncontacts_t2t,        value: 10, description: Teacher-to-teacher contacts per student},
        {name: ncontacts_t2s,        value: 20, description: Teacher-to-student contacts per teacher}
    ]

output_directory: "data/output"  # Full path is /path/to/Covid.jl/data/output
firstday: 2020-01-18  # Simulation starts at 12am.
lastday:  2020-06-01  # Simulation finishes at 12am
nruns: 20
params: "data/input/params.tsv"  # Full path is /path/to/Covid.jl/data/input/params.tsv

forcing:
    2020-01-18: {E: 10}
    2020-01-25: {E: 10}  # At 00:00:01 change 1 person from Susceptible to Exposed
    2020-02-01: {E: 10}
    2020-02-08: {E: 10}
    2020-02-15: {E: 10}

# The physical distancing policy.
# The numbers are Pr(Contact a person in the contact list during any given day)
distancing_policy:
    2020-01-18: {household: 0.5, school: 0.2, workplace: 0.2, community: 0.1, social: 0.1}  # Normal.
    2020-03-23: {household: 0.5, school: 0.2, workplace: 0.001, community: 0.01, social: 0.01}  # Stage 1: Bars/restaurants/gyms/cinemas
    2020-03-24: {household: 0.5, school: 0.2, workplace: 0.001, community: 0.01, social: 0.01}  # School closures
    2020-03-25: {household: 0.5, school: 0.002, workplace: 0.001, community: 0.0001, social: 0.0001}  # Stage 2: Recreation, entertainment, retail, weddings/funerals.
    2020-03-30: {household: 0.5, school: 0.002, workplace: 0.001, community: 0.0001, social: 0.0001}  # Stage 3: Gatherings of <=2
    2020-04-27: {household: 0.5, school: 0.002, workplace: 0.001, community: 0.04, social: 0.04}      # Social/community impatience
    2020-05-25: {household: 0.5, school: 0.1, workplace: 0.001, community: 0.04, social: 0.04}  # Schools partially reopen
    2020-05-30: {household: 0.5, school: 0.1, workplace: 0.001, community: 0.04, social: 0.06}  # Small gatherings at home
    2020-06-09: {household: 0.5, school: 0.2, workplace: 0.001, community: 0.04, social: 0.06}  # Schools fully reopen (Tue after Queen's Birthday)
    2020-06-15: {household: 0.5, school: 0.2, workplace: 0.2, community: 0.1, social: 0.1}      # Scenario: Normal

# Pr(Test | Person is not a contact of a known case, status)
# Typically only people who are symptomatic and satisfy other criteria are tested
testing_policy:
    2020-01-18: {IS: 0.2, W: 0.5}  # Pre-pandemic testing
    2020-03-07: {IS: 0.5, W: 1.0}  # Pandemic testing
    2020-04-27: {IS: 0.8, W: 1.0}  # Testing blitz in Victoria
    2020-05-25: {IS: 0.5, W: 1.0}  # Resume pandemic testing

# Pr(Test | Person is a contact of a known case, status)
# Asymptomatic contacts are S, E, IA or R.
# Symptomatic contacts are IS or H because W, ICU and V patients have already been tested upon admission to hospital.
tracing_policy:
    2020-01-18: {household: {symptomatic: 1.0, asymptomatic: 0.0}, school: {symptomatic: 0.0, asymptomatic: 0.0}, workplace: {symptomatic: 0.0, asymptomatic: 0.0}, community: {symptomatic: 0.0, asymptomatic: 0.0}, social: {symptomatic: 0.0, asymptomatic: 0.0}}
    2020-03-25: {household: {symptomatic: 1.0, asymptomatic: 0.0}, school: {symptomatic: 1.0, asymptomatic: 0.0}, workplace: {symptomatic: 1.0, asymptomatic: 0.0}, community: {symptomatic: 0.0, asymptomatic: 0.0}, social: {symptomatic: 0.0, asymptomatic: 0.0}}
    2020-05-04: {household: {symptomatic: 1.0, asymptomatic: 0.0}, school: {symptomatic: 1.0, asymptomatic: 0.0}, workplace: {symptomatic: 1.0, asymptomatic: 1.0}, community: {symptomatic: 1.0, asymptomatic: 0.0}, social: {symptomatic: 1.0, asymptomatic: 0.0}}
#    2020-06-15: {household: {symptomatic: 1.0, asymptomatic: 1.0}, school: {symptomatic: 1.0, asymptomatic: 1.0}, workplace: {symptomatic: 1.0, asymptomatic: 1.0}, community: {symptomatic: 1.0, asymptomatic: 1.0}, social: {symptomatic: 1.0, asymptomatic: 1.0}}

# People who are awaiting test results are quarantined until the result is available, which is currently 2 days after the test date.
# People who test positive are quarantined for X days after onset of symptoms if they are symptomatic (status=IS,H), or X days after the test date if asymptomatic.
# People known to be in recent contact with a known case are quarantined for X days.
quarantine_policy:
    2020-01-18: {awaiting_test_result: {days: 2, compliance: 0.7}, tested_positive: {days: 10, compliance: 0.7}, case_contacts: {household: {days: 14, compliance: 0.7}}}
    2020-03-15: {awaiting_test_result: {days: 2, compliance: 0.7}, tested_positive: {days: 10, compliance: 0.7}, case_contacts: {household: {days: 14, compliance: 0.7}, workplace: {days: 14, compliance: 0.7}}}
#    2020-06-15: {awaiting_test_result: {days: 2, compliance: 0.7}, tested_positive: {days: 10, compliance: 0.7},
#                 case_contacts: {household: {days: 14, compliance: 0.7}, workplace: {days: 14, compliance: 0.7}, school: {days: 14, compliance: 0.7}, community: {days: 14, compliance: 0.7}, social: {days: 14, compliance: 0.7}}}

################################################################################
# Config specifically for training

training_data: "C:\\Users\\jlaw1812\\data\\covid-abm\\input\\training_data.csv"

solver_options:
    etarget: 10.0    # Standard deviation of the distance metric
    alpha: 0.75
    nparticles: 10  # Number of draws from the posterior returned by the function. Must be greater than the number of unknowns.
    generations: 10
    verbose: true
    parallel: true
    #iterations: 5
    #show_trace: true

# Unknowns to be estimated via training. Initial values are supplied in the config.
unknowns:
    params: p_infect
    #distancing_policy:
    #    2020-01-18: [household, school, workplace, community, social]
    #testing_policy:
    #    2020-01-18: IS
